# Taller Individual  3
## Reactive Stream

**Semana**: 9

**Objetivos**:

- Aplicar los conocimientos sobre Reactive Stream.
- Generar y procesar flujos de datos reactivos.

### DescripciÃ³n:

Resuelva los siguientes problemas.

### Problema 1
**SincronizaciÃ³n de Sensores**

DescripciÃ³n: Simula dos sensores que emiten valores periÃ³dicos:

- Sensor1: Rango [20Â°C, 30Â°C], cada 1 segundo.
- Sensor2: Rango [30Â°C, 40Â°C], cada 1.5 segundos.
- Usa zip para combinar los valores de ambos sensores en un solo flujo.
- DetÃ©n el flujo despuÃ©s de 10 pares de valores.
- Genera una alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C.
  

```mathematica
Sensor1: 22Â°C, Sensor2: 27Â°C, Difference: 5Â°C
Sensor1: 24Â°C, Sensor2: 34Â°C, Difference: 10Â°C
ğŸš¨ ALERT! Significant difference detected: 10Â°C
```
- CÃ³digo
  
package semana9

import rx.lang.scala.Observable

import scala.util.Random

import scala.concurrent.duration._

  object sincronizacionSensores extends App{
    // --- Sensor1 ---
    val sensor1 = Observable.interval(1.second).map(_ => Random.between(20, 30))
    // --- Sensor2 ---
    val sensor2 = Observable.interval(1.5.second).map(_ => Random.between(30, 40))

    // --- Zip ---
    sensor1.zip(sensor2)
      .take(10)
      // --- subscribe ---
      .subscribe(
        onNext = {
          case (temp1, temp2) =>
            println(s"Sensor1: $temp1 | Sensor2: $temp2")

            val diff = math.abs(temp1 - temp2)
            // alerta si la diferencia absoluta entre las lecturas de Sensor1 y Sensor2 es mayor a 5Â°C
            if (diff > 5)
              println(s"ğŸš¨ ALERT! Significant difference detected: $diffÂ°C")
        },
        onError = e => println(s"Error: ${e.getMessage}"),
        onCompleted = () => println("Flujo completado")
      )

    Thread.sleep(18000)
  }
### Problema 2
**Sistema de Alerta Complejo**

DescripciÃ³n: Simula tres sensores que emiten datos periÃ³dicos:

- Sensor1: Temperatura (20Â°C a 30Â°C).
- Sensor2: Humedad (40% a 60%).
- Sensor3: PresiÃ³n (950 hPa a 1050 hPa).
- Combina los datos de los tres sensores y detecta si alguna de las mÃ©tricas estÃ¡ fuera de rango.
- DetÃ©n el flujo despuÃ©s de 20 combinaciones.

```yaml
Temperature: 22Â°C, Humidity: 50%, Pressure: 970 hPa
Temperature: 25Â°C, Humidity: 42%, Pressure: 1055 hPa
ğŸš¨ ALERT! Pressure out of range: 1055 hPa
...
```
- CÃ³digo
  
package semana9

import rx.lang.scala.Observable

import scala.util.Random

import scala.concurrent.duration._
  
  object sistemaAlertaComplejo extends App{
    // --- Sensor Temperatura ---
    val sensor1 = Observable.interval(1.second).map(_ => Random.between(20, 30))
    // --- Sensor HÃºmedad ---
    val sensor2 = Observable.interval(1.second).map(_ => Random.between(40, 60))
    // --- Sensor PresiÃ³n ---
    val sensor3 = Observable.interval(1.second).map(_ => Random.between(950, 1050))
    // --- CombinaciÃ³n de los 3 sensores ---
    sensor1.zip(sensor2).zip(sensor3)
  
      .take(20)
      // --- subscribe ---
      .subscribe(
  
        onNext = {
          case ((temp, hume), pre) => println(s"Temperature: $tempÂ°C | Humidity: $hume% | Pressure: $pre hPa")
  
            if (temp < 20 || temp > 30)
  
              println(s"ğŸš¨ ALERT! Temperature out of range: $tempÂ°C")
  
            if (hume < 40 || hume > 60)
  
              println(s"ğŸš¨ ALERT! Humidity out of range: $hume%")
  
            if (pre < 950 || pre > 1050)
  
              println(s"ğŸš¨ ALERT! Pressure out of range: $pre hPa")
  
        },
  
        onError = e => println(s"Error: ${e.getMessage}"),
  
        onCompleted = () => println("Flujo completado")
  
      )
  
    Thread.sleep(60000)
  
  }
### CalificaciÃ³n:

Una vez que termine la primera parte (a lÃ¡piz y papel), debe presentar su trabajo a su docente para poder continuar con la segunda parte (Ãºltima pregunta)

- 10 puntos si presenta en el horario de prÃ¡cticas y experimentaciÃ³n.
- 7 puntos presenta en el horario de tutorÃ­a

La hora mÃ¡xima de presentaciÃ³n serÃ¡ las 08h30
